@model IEnumerable<WEB2022Apr_P01_T3.Models.ProductManager>

@{
ViewData["Title"] = "Login";
}


<div class="loginContainer">
    <div id="login-container">
        <img src="~/images/website-logo.png" style="width:50px;height:50px;" />
        <p id="loginTitle"> Login</p>
        <p id="welcome">Welcome</p><br />
        <form method="post" action="#">
            <fieldset class="loginFieldset">

                <input type="text" name="txtLoginID" id="txtLoginID" class="inputText"
                       placeholder="Username" required /><br />


                <input type="password" name="txtPassword" id="txtPassword" class="inputText"
                       placeholder="Password" required /><br />

                <input type="submit" id="btnLogin" class="btn-dark inputText" value="Login" />

                <input type="hidden" id="loginType" name="loginType" value=""><br />
                <span style="color:red;">@TempData["Message"]</span>
            </fieldset>
        </form>
    </div>
    <img src="~/images/form-logo.png" alt="form logo" class="form-logo">
</div>
<h4 class="header">Our new products</h4>

@if (Model.ToList().Count > 0)
{
    <div class="productMainContainer">
        @foreach (var item in Model)
        {
            @if (item.productCondition == "New")
            {
                {
                    <div class="productContainer">
                        @{string imageFileName = item.productImage;}
                        <img src="~/images/products/@imageFileName" alt="" class="productImage" />
                        <div class="productMainTextContainer">
                            <ul class="productTextContainer">
                                <li class="productTextHeader">Name:</li>
                                <li class="productDescription">@item.productName</li>
                            </ul>
                            <ul class="productTextContainer">
                                <li class="productTextHeader">Price:</li>
                                <li class="productDescription">$@item.productPrice</li>
                            </ul>
                            <ul class="productTextContainer">
                                <li class="productTextHeader">Product Effective Date</li>
                                <li class="productDescription">@item.productEffectiveDate</li>
                            </ul>
                            <ul class="productTextContainer">
                                <li class="productTextHeader">Product Condition:</li>
                                <li class="productDescription">@item.productCondition</li>
                            </ul>
                        </div>
                    </div>
                }
            }
        }
    </div>
}
else
{
<span style="color:red">No record found!</span>
}


<script>
    var type = localStorage.getItem("LoginType");
    if (type != null) {
        document.getElementById("loginTitle").textContent = type + " Login";
    }
    document.getElementById("loginType").value = type;
</script>
